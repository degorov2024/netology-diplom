# Дипломная работа профессии «Python-разработчик с нуля»
по программе онлайн-курса "Python-разработчик с нуля" ООО "Нетология"

## Разработка Backend приложения для социальной сети для обмена фотографиями

### Цель дипломной работы

Разработка API для загрузки публикаций и их фото с возможностью комментировать и ставить лайки.

### Описание задания

Необходимо разработать backend приложения для социальной сети для обмена фотографиями. Прототип фронтенда приложения на скрине:

![](https://github.com/netology-code/spd-diplom/blob/main/Design.png)

В этом проекте вы будете работать над API для загрузки публикаций и их фото с возможностью комментировать и ставить лайки.

### Реализация

Посты должны состоять из текста и фотографии, также должно сохраняться время создания поста.

Публикации могут создаваться только авторизованными пользователями, редактировать же публикацию может только её автор.

Комментарии могут быть написаны к определённой публикации, оставлять их могут только авторизованные пользователи. 
Сам комментарий состоит из текста и даты его публикации.

Помимо комментариев, пользователи также могут оставлять реакцию на публикацию в виде лайка.

При получении деталей публикации помимо полей самой публикации должен отображаться список комментариев и количество 
лайков к публикации, например:

```json
{
  "id": 1,
  "text": "Новый прекрасный день",
  "image": "/posts/image1.jpg",
  "created_at": "2024-02-23T02:24:29.338414",
  "comments": [
    {
      "author": 2,
      "text": "Круто",
      "created_at": "2024-02-23T05:12:31.054234"
    }
  ],
  "likes_count": 20
}
```

-----

## Документация по проекту

### Для запуска проекта необходимо:

1. Установление зависимостей командой:
```commandline
pip install -r requirements.txt
```

2. Добавление секретного ключа и данных для подключения БД. 
Для этого нужно создать файл ".env" в папке "social network" следующего содержания:
```commandline
SECRET_KEY = '<секретный ключ>'
DB_NAME = '<название базы данных>'
DB_USER = '<имя пользователя>'
DB_PASSWORD = '<пароль>'
```
Секретный ключ можно сгенерировать, к примеру, встроенным инструментом Django - выполнить команды 
```commandline 
django-admin shell
from django.core.management.utils import get_random_secret_key  
get_random_secret_key()
```
Пример того, каким может быть содержание файла ".env":
```commandline
SECRET_KEY = 'q1-w*er2tya2&^)ab_cd1e)l%8tcr^b%h(a66th#yzsq%08)q5'
DB_NAME = 'some-db'
DB_USER = 'user123'
DB_PASSWORD = 'some-password'
```
По умолчанию к проекту подключается локальная БД PostgreSQL. При необходимости (другая СУБД или порт, БД на удалённом сервере и т.п.) можно вместо создания файла ".env" изменить непосредственно содержание файла "settings.py" и указать нужные параметры вручную. В случае с примером выше - параметры SECRET_KEY и DATABASES будут выглядеть в файле "settings.py" следующим образом:
```commandline
SECRET_KEY = 'q1-w*er2tya2&^)ab_cd1e)l%8tcr^b%h(a66th#yzsq%08)q5'
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'some-db',
        'USER': 'user123',
        'PASSWORD': 'some-password',
        'HOST': 'localhost',
        'PORT': 5432
    }
}
```

3. Применение миграций для базы данных (для изменения и создания моделей):

```commandline
python manage.py makemigrations
python manage.py migrate
```

4. Запуск приложения:

```commandline
python manage.py runserver
```
